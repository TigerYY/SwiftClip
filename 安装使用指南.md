# 智剪蜂安装使用指南

## 安装步骤

### 前提条件

确保您的系统满足以下要求：
- Python 3.9+
- Node.js 16+
- FFmpeg 4.0+

### 方法一：完整安装（推荐）

完整安装包含所有AI功能，适合有较好硬件配置的用户。

```bash
# 克隆仓库
git clone https://github.com/yourusername/smart-video-cutter.git
cd smart-video-cutter

# 安装依赖
./install_ai_full.sh

# 启动服务
./start_ai_full.sh  # 标准版本
# 或
./start_ai_m4.sh    # M4芯片优化版本
```

### 方法二：最小安装

如果您的系统配置较低，或只需要基础功能，可以选择最小安装。

```bash
# 克隆仓库
git clone https://github.com/yourusername/smart-video-cutter.git
cd smart-video-cutter

# 最小安装
./install_minimal.sh

# 启动服务
./start_app.sh
```

## 使用方法

### 1. 访问Web界面

安装并启动服务后，打开浏览器访问：
```
http://localhost:3000
```

### 2. 上传视频

在Web界面中：
1. 点击"上传视频"按钮
2. 选择要处理的视频文件（支持mp4, avi, mov等常见格式）
3. 等待上传完成

### 3. 设置参数

上传完成后：
1. 设置目标时长（默认为5分钟）
2. 可选：调整其他参数

### 4. 开始处理

1. 点击"开始处理"按钮
2. 等待处理完成（处理时间取决于视频长度和您的硬件配置）

### 5. 下载结果

处理完成后：
1. 点击"下载"按钮获取剪辑后的视频
2. 视频将保存到您的下载文件夹

## 常见问题

### Q: 处理速度很慢怎么办？
A: 处理速度主要取决于您的硬件配置。可以尝试：
- 关闭其他占用资源的应用
- 使用更短的视频进行测试
- 如果有GPU，确保系统正确配置了GPU加速

### Q: 上传失败怎么办？
A: 检查：
- 视频文件大小（建议不超过2GB）
- 网络连接
- 临时文件夹权限

### Q: 如何停止服务？
A: 运行以下命令：
```bash
./stop_ai_full.sh  # 如果使用完整版
# 或
./stop_app.sh      # 如果使用最小版
```

### Q: 如何更新到最新版本？
A: 运行以下命令：
```bash
git pull
./update_ai_deps.sh
```

## 高级配置

高级用户可以通过修改配置文件进行自定义设置：

- `backend/.env.m4`: M4芯片优化配置
- `backend/.env.example`: 标准配置示例

## 故障排除

如果遇到问题，可以查看日志文件：
```bash
tail -f logs/backend.log  # 查看后端日志
tail -f logs/frontend.log # 查看前端日志
```

或运行诊断脚本：
```bash
./check_ai_status.sh      # 检查AI服务状态
./diagnose_pip.py         # 诊断Python依赖问题
./fix_dependencies.sh     # 修复依赖问题
./fix_network_issues.sh   # 修复网络问题
./fix_port_conflict.sh    # 修复端口冲突